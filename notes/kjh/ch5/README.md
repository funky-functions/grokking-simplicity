# ch5. 더 좋은 액션 만들기

## 1. 리팩토링 아이템

### 코드 스멜
- 중복이 항상 나쁜 것은 아니지만, 추후 문제를 만들 수 있으므로 가급적 반복을 줄여 재사용하게 만드는 것이 좋다
- 이 때 코드 라인 수가 늘어나더라도 이익이 더 많으므로 괜찮다
- `megaMart.ts` 확인

### 암묵적 입출력 줄이기
- 미사용 전역 변수를 없애고, 전역 변수 입력받는 부분을 1곳으로 줄임
- `quiz.ts` 확인

### 함수 사용의 장점
- 관심사의 분리
  - 함수: 인자로 넘기는 값과 그 값을 사용하는 방법을 분리
  - 이로 인해 분리와 조합이 간편하다
- 재사용성
  - 함수가 작을 수록 재사용하기 쉽다
- 유지보수성
  - 작은 함수는 이해하기 쉬워서 유지보수하기 쉽다
- 테스트 용이성
  - 작은 함수일 수록 한 가지 일만 하기 때문에 한 가지만 테스트하면 된다

### 유틸 함수 활용
- `megaMart.ts` 확인 (리팩토링3)

## 2. 계산을 더 분리하기
- 계산을 유틸리티 함수, 장바구니, 비즈니스 로직으로 세분화할 수 있다
- 장바구니: 이커머스 도메인
  - 장바구니 기능은 이커머스 도메인에서 일반적으로 많이 쓰이는 기능이기 때문에 비즈니스 로직이라고 하기는 어렵다
- 장바구니(이커머스 도메인) vs 비즈니스 로직
  - 비즈니스 로직이 더 빈번하게 바뀐다
  - 장바구니 기능은 잘 바뀌지 않음
  - 이것을 미리 분리하는 이유는 나중에 직접 설계 단계에서 필요하기 때문