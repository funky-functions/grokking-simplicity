
# 1. 계층형 설계란?
### 1) 소프트웨어 설계란?
코드를 만들고 테스트하고 유지보수하기 쉬운 프로그래밍 방법을 선택하기 위해 미적 감각을 사용하는 것
<br></br>
### 2) 계층형 설계란?
- 소프트웨어를 계층으로 구성하는 기술
- 각 계층에 있는 함수는 바로 아래 계층에 있는 함수를 이용해 정의함
- 계층형 설계는 특정 구체화 단계에 집중할 수 있도록 도와줌
- 입력
  - 함수 본문	: 길이, 복잡성, 구체화 단계, 함수 호출, 프로그래밍 언어의 기능 사용
  - 계층 구조	: 화살표 길이, 응집도, 구체화 단계
  - 함수 : 시그니처	함수명, 인자 이름, 인잣값, 리턴값
- 출력
  - 조직화	: 새로운 함수를 어디에 놓을지 결정, 함수를 다른 곳으로 이동
  - 구현	: 구현 바꾸기, 함수 추출하기, 데이터 구조 바꾸기
  - 변경	: 새 코드를 작성할 곳 선택하기, 적절한 수준의 구체화 단계 결정하기
<br></br>
# 2. 계층형 설계 패턴
1) 직접 구현
2) 추상화 벽
3) 작은 인터페이스
4) 편리한 계층

## 1) 직접 구현

- 호출 그래프를 그렸을 때 추상화 단계에 있는 함수가 모두 비슷한 계층에 있는 것이다.
- 같은 계층에 있는 함수는 같은 목적을 가져야 한다.
- 직접 구현한 코드는 한단계의 구체화 수준에 관한 문제만 해결된다.
- 호출그래프는 구체화 단계에 대한 풍부한 단서를 보여준다.
- 함수를 추출하면 더 일반적인 함수로 만들 수 있다.
- 일반적인 함수가 많을수록 재사용하기 좋다
- 복잡성을 감추지 않는다.


### 계층형 설계에서 문제는 3가지 영역에서 찾을 수 있다.
- 3가지 영역 : 계층 사이에 상호 관계, 특정 계층의 구현, 특정 함수의 구현
- 그 문제를 찾기 위해 줌레벨을 사용
  1. 전역 줌 례벨
      - 그래프 전체 중 필요한 부분 살펴 볼 수 있다.
      - 기본 줌 레벨이다.
      - 모든 문제 영역을 살펴 볼 수 있다.
  2. 계층 줌 레벨
      - 한 계층과 연결된 바로 아래 계층을 볼 수 있다.
      - 계층이 어떻게 구현되어 있는지 알 수 있다.
  3. 함수 줌 레벨
      - 함수 하나와 바로 아래 연결된 함수들을 볼 수 있다.
      - 함수 구현의 문제를 찾을 수 있다.


## 2) 추상화 벽

### 추상화 벽이란? 
- 세부 구현을 감춘 함수로 이루어진 계층
- 추상화 벽을 쉽게 말하면 = 어떤 것을 신경 쓰지 않아도 되지?
- 팀 간 책임을 명확하게 나누어줌 : 추상화 벽 위아래로 추상화 벽에 있는 함수는 독립적으로 재사용 가능


### 추상화 벽은 언제 사용해야할까?
- 쉽게 구현을 바꾸기 위해
- 코드 읽고 쓰기 쉽게 만들기 위해
- 팀간 조율해야할 것을 줄이기 위해
- 주어진 문제에 집중하기 위해

## 3) 작은 인터페이스

### 인터페이스란?
- 추상화 벽에 만든 함수 = 다른 팀들과의 계약, 규칙
- 인터페이스로 어떤 값의 집합에 접근하거나 값을 조작할 수 있다.
- 인터페이스를 최소화하면 하위 계층에 불필요한 기능이 쓸데없이 커지는 것을 막을 수 있다.


### 인터페이스를 작게 만들어야하는 이유

- 추상화 벽에 코드가 많을수록 구현이 변경되었을 때 고쳐야할 것들이 많아진다.
- 추상화 벽에 있는 코드는 낮은 수준의 코드이기 때문에 더많은 버그가 있을 수 있다.
- 낮은 수준의 코드는 이해하기 더 어렵다.
- 추상화 벽에 코드가 많을수록 팀 간 조율해야할 것들도 많아진다.
- 추상화 벽에 인터페이스가 많으면 알아야할 것이 많아 사용하기 어렵다.
- 계층이 가진 함수는 완전하고 적고 시간이 지나도 바뀌지 않는 것이 이상적인 모습이다.

## 4) 편리한 계층

- 편리한 계층 패턴은 언제 패턴을 적용하고 언제 먼춰야하는지 실용적인 방법을 알려준다.
- 현재 코드가 편리하다고 느껴진다면 호출 화살표가 조금 길어지너가 계층이 다른 계층과 섞여도 그대로 둬도 된다.


# 3. 호출그래프

### 기능적 요구사항
- 소프트웨어가 정확히 해야하는 일
### 비기능적 요구사항
- 텍스트를 어떻게 할것인지, 재사용을 잘할 수 있는지, 유지보수하기 어렵지 않은지 등
  - 유지보수성 : 자주 바뀌는 코드는 가능한 위쪽에 있어야 한다.
  - 테스트성 : 아래쪽에 있는 함수를 테스트하는 것이 더 가치있다.
  - 재사용성 : 낮은 수준의 단계로 함수를 빼내면 재사용성이 높아진다.
- 호출그래프의 아래로 갈 수록 고치기 어려워진다. -> 이미 많은 코드가 아래 코드를 기반으로 만들어졌기때문
  - 카피-온-라이트 코드가 아래에 있다.
  - 테스트 코드도 아래에 있는 코드에 적용을 한다.
  - 아래에 있는 코드가 재사용하기 쉽다.

# 궁금한 내용
- 197 array get에서 index 왜 빼는지..
- 함수 이름 길게 하는지 간단하게 하는지, button->btn 등
